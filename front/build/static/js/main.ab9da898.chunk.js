(this.webpackJsonpselenium=this.webpackJsonpselenium||[]).push([[0],{35:function(e,t,n){},36:function(e,t,n){},44:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(20),r=n.n(c),i=(n(35),n(36),n(5)),o=n(22),l=n(15);var u,j=function(e){return Object(l.c)((function(t){return t[e]}))},m=n(12),d=n(18),b=n(11),h=n(10),p=n(4),O=n.n(p);n(44);!function(e){e.SET_AUTHORIZED="SET_AUTHORIZED",e.SET_LOADER="SET_LOADER",e.SIGNIN="SIGNIN",e.SIGNUP="SIGNUP",e.SIGNOUT="SIGNOUT",e.CHECK_AUTHORIZATION_STATUS="CHECK_AUTHORIZATION_STATUS",e.SET_SIGNIN_ERROR_MSG="SET_SIGNIN_ERROR_MSG"}(u||(u={}));var f=u,g=function(e){return{type:f.SET_AUTHORIZED,payload:e}},x=function(e){return{type:f.SET_SIGNIN_ERROR_MSG,payload:e}},v=function(e){return{type:f.SET_LOADER,payload:e}},N=function(){return{type:f.SIGNOUT}},S=(n(45),n(1));var I=function(){var e=Object(l.b)(),t=Object(a.useRef)(null),n=Object(a.useState)(!1),s=Object(h.a)(n,2),c=s[0],r=s[1],i=Object(a.useState)([]),u=Object(h.a)(i,2),j=u[0],p=u[1],f=Object(a.useState)([]),g=Object(h.a)(f,2),x=g[0],v=(g[1],Object(a.useState)({songGenre:"",songArtist:"",songName:""})),I=Object(h.a)(v,2),w=I[0],k=I[1],y=Object(a.useState)([]),A=Object(h.a)(y,2),T=A[0],C=A[1],E=Object(a.useRef)(null),_=function(e){return k((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))},G=localStorage.getItem("isAdmin");function R(){return(R=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(t),n=t.target.value,e.t0=C,e.next=5,fetch("http://localhost:8080/genre/help?text=".concat(n,"&limit=",10)).then((function(e){return e.json()}));case 5:e.t1=e.sent.genres,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=Object(m.a)(O.a.mark((function e(){var t,n,a,s,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.songName,n=w.songGenre,a=w.songArtist,s=c?localStorage.getItem("login"):"NULL",e.next=4,fetch("http://localhost:8080/song/getFiltred?name=".concat(t,"&artist=").concat(a,"&username=").concat(s,"&genres=").concat(n,"&offset=",0,"&limit=",20)).then((function(e){return e.json()}));case 4:if(0!==(r=e.sent).length){e.next=7;break}return e.abrupt("return",p("\u041d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043f\u0435\u0441\u043d\u0438 \u043d\u0435 \u0431\u044b\u043b\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043e"));case 7:p(r.reduce((function(e,t){var n=x.includes(Number(t.songId));return e.push(Object(S.jsxs)("div",{className:"song",children:[Object(S.jsx)("div",{className:"song-buttons",children:Object(S.jsx)("button",{onClick:function(){return F(n,t.songId)},className:"song-star ".concat(n?"song-stared":""),children:"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"})}),Object(S.jsx)("span",{className:"song-field song-title",children:t.name}),Object(S.jsxs)("span",{className:"song-field song-genres",children:["\u0418\u043c\u044f \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f: ",t.artist]})]})),e}),[]));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(O.a.mark((function e(t,n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("login"),e.next=3,fetch("http://localhost:8080/fav/addSong?username=".concat(a,"&songId=").concat(n,"&label=").concat(t?"0":"1")).then((function(e){return e.json()}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("header",{className:"main-header",children:[Object(S.jsx)("span",{className:"main-profilePage",children:localStorage.getItem("login")}),Object(S.jsx)("h2",{className:"promusic",children:"\u041f\u0420\u041e-\u041c\u042c\u042e\u0417\u0418\u041a"}),Object(S.jsxs)("div",{className:"main-helpersButtons",children:[G&&Object(S.jsx)(o.b,{to:"/admin",children:Object(S.jsx)("span",{className:"main-adminPage",children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0430"})}),Object(S.jsx)("span",{className:"main-signout",onClick:function(){e(N()),localStorage.removeItem("login"),localStorage.removeItem("password")},children:"\u0412\u044b\u0439\u0442\u0438"})]})]}),Object(S.jsxs)("main",{className:"main",children:[Object(S.jsx)("section",{className:"main-filters",children:Object(S.jsxs)("div",{className:"main-sendFilters",children:[Object(S.jsxs)("div",{className:"main-searchFilter",children:[Object(S.jsx)("span",{className:"main-name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0441\u043d\u0438"}),Object(S.jsx)("input",{className:"main-search",name:"songName",value:w.songName,onChange:_})]}),Object(S.jsxs)("div",{className:"main-searchFilter",children:[Object(S.jsx)("span",{className:"main-name",children:"\u0418\u043c\u044f \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(S.jsx)("input",{className:"main-search",ref:t,name:"songArtist",value:w.songArtist,onChange:_})]}),Object(S.jsxs)("div",{className:"main-searchFilter",children:[Object(S.jsx)("span",{className:"main-name",children:"\u0416\u0430\u043d\u0440"}),Object(S.jsx)("input",{className:"main-search",name:"songGenre",onBlur:function(){setTimeout((function(){C([])}),100)},value:w.songGenre,onChange:function(e){return R.apply(this,arguments)}}),T.length?Object(S.jsx)("div",{ref:E,className:"main-suggestedWords",children:T.map((function(e,t,n){return Object(S.jsxs)("div",{onClick:function(){C([]),k((function(t){return Object(b.a)(Object(b.a)({},t),{},{songGenre:e})}))},className:"main-suggestedItem",children:[Object(S.jsx)("span",{className:"main-suggestedName",children:e}),t!==n.length-1?Object(S.jsx)("hr",{className:"main-suggestedLine"}):null]})}))}):null]}),Object(S.jsxs)("div",{className:"main-stared",children:[Object(S.jsxs)("label",{className:"main-checkbox path",children:[Object(S.jsx)("input",{onChange:function(e){return r(e.target.checked)},type:"checkbox"}),Object(S.jsx)("svg",{viewBox:"0 0 21 21",children:Object(S.jsx)("path",{d:"M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186"})})]}),Object(S.jsx)("span",{className:"main-staredText",children:"\u0412 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u043c"})]}),Object(S.jsx)("button",{onClick:function(){return U.apply(this,arguments)},className:"main-button",children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]})}),Object(S.jsx)("section",{className:"main-songs",children:Object(S.jsx)("div",{children:j||"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u043f\u043e\u0438\u0441\u043a"})})]})]})},w=(n(47),n(48),function(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}),k=function(e){var t=e.placeholder,n=e.name,a=e.type,s=void 0===a?"input":a,c=w();return Object(S.jsxs)("div",{className:"customTextInput",children:[Object(S.jsx)("input",{type:s,className:"customTextInput-input",placeholder:t,name:n,id:c,required:!0}),Object(S.jsx)("label",{htmlFor:c,className:"customTextInput-label",children:t})]})},y=(n(49),function(e){var t=e.type,n=e.name,a=e.onClick;return Object(S.jsx)("button",{className:"formButton",onClick:function(e){return a(e)},type:t,children:n})});var A=function(){var e=j("signInErrorMsg"),t=Object(l.b)();return Object(a.useEffect)((function(){document.forms.namedItem("loginForm").login.focus()}),[]),Object(a.useEffect)((function(){e&&v(!1)}),[e]),Object(S.jsx)("main",{className:"authorization",children:Object(S.jsxs)("form",{className:"authorization-loginForm",name:"loginForm",children:[e?Object(S.jsx)("span",{className:"authorization-errorMessage",children:e}):null,Object(S.jsx)(k,{name:"login",placeholder:"\u041b\u043e\u0433\u0438\u043d"}),Object(S.jsx)(k,{name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password"}),Object(S.jsxs)("div",{className:"authorization-buttons",children:[Object(S.jsx)(y,{name:"\u0412\u043e\u0439\u0442\u0438",onClick:function(e){e.preventDefault();var n,a=document.forms.namedItem("loginForm"),s=a.login,c=a.password;t((n={login:s.value,password:c.value},{type:f.SIGNIN,payload:n}))}}),Object(S.jsx)(y,{name:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f",onClick:function(e){e.preventDefault();var n,a=document.forms.namedItem("loginForm"),s=a.login,c=a.password;t((n={login:s.value,password:c.value},{type:f.SIGNUP,payload:n}))}})]})]})})},T=n(28),C=(n(50),function(e){var t=e.color;if("primary"===t)t="#4eb5f1";return Object(S.jsx)("div",{className:"customSpinner-wrapper",children:Object(S.jsx)(T.ScaleLoader,{color:t})})}),E=(n(77),function(){var e=Object(l.b)(),t=Object(a.useState)(""),n=Object(h.a)(t,2),s=n[0],c=n[1],r=Object(a.useState)([]),i=Object(h.a)(r,2),o=i[0],u=i[1],j=Object(a.useState)([]),d=Object(h.a)(j,2),b=d[0],p=d[1],f=Object(a.useCallback)(Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("login"),e.t0=c,e.next=4,fetch("http://localhost:8080/user/accInfo?username=".concat(t)).then((function(e){return e.json()}));case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)}))),[]),g=Object(a.useCallback)(Object(m.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("login"),e.next=3,fetch("http://localhost:8080/user/getFullFavs?username=".concat(t)).then((function(e){return e.json()}));case 3:n=e.sent,p(n.reduce((function(e,t){return e.push(Object(S.jsxs)("div",{className:"movie",children:[Object(S.jsx)("span",{className:"movie-field movie-title",children:t.title}),Object(S.jsxs)("span",{className:"movie-field movie-genres",children:["\u0416\u0430\u043d\u0440\u044b: ",t.genres]}),Object(S.jsxs)("span",{className:"movie-field movie-year",children:["\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430: ",t.year]}),Object(S.jsxs)("span",{className:"movie-field movie-tags",children:["\u0422\u0435\u0433\u0438: ",t.tags]})]})),e}),[]));case 5:case"end":return e.stop()}}),e)}))),[]),x=Object(a.useCallback)(Object(m.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("login"),e.next=3,fetch("http://localhost:8080/user/getScored?username=".concat(t)).then((function(e){return e.json()}));case 3:n=e.sent,u(n.reduce((function(e,t){return e.push(Object(S.jsxs)("div",{className:"movie",children:[Object(S.jsx)("span",{className:"movie-field movie-title",children:t.title}),Object(S.jsxs)("span",{className:"movie-field movie-genres",children:["\u0416\u0430\u043d\u0440\u044b: ",t.genres]}),Object(S.jsxs)("span",{className:"movie-field movie-year",children:["\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430: ",t.year]}),Object(S.jsxs)("span",{className:"movie-field movie-tags",children:["\u0422\u0435\u0433\u0438: ",t.tags]})]})),e}),[]));case 5:case"end":return e.stop()}}),e)}))),[]);return Object(a.useEffect)((function(){f(),g(),x()}),[]),Object(S.jsxs)("main",{className:"profile",children:[Object(S.jsxs)("div",{className:"profile-info",children:[Object(S.jsx)("span",{className:"profile-name",children:s.username}),Object(S.jsx)("button",{className:"profile-signout",onClick:function(){e(N()),localStorage.removeItem("login"),localStorage.removeItem("password")},children:"\u0412\u044b\u0439\u0442\u0438"})]}),Object(S.jsxs)("span",{className:"profile-filmsAmount",children:["\u041e\u0446\u0435\u043d\u0435\u043d\u043d\u044b\u0445: ",s.count_rated||0]}),Object(S.jsx)("span",{className:"profile-lastFilms",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043e\u0446\u0435\u043d\u0435\u043d\u043d\u044b\u0435: "}),Object(S.jsx)("div",{className:"profile-rated",children:o}),Object(S.jsxs)("span",{className:"profile-filmsAmount",children:["\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445: ",s.count_favorites||0]}),Object(S.jsx)("span",{className:"profile-lastFilms",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435: "}),Object(S.jsx)("div",{className:"profile-fav",children:b})]})}),_=(n(78),function(){var e=Object(a.useState)([]),t=Object(h.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(h.a)(c,2),i=r[0],o=r[1],l=Object(a.useState)(null),u=Object(h.a)(l,2),j=u[0],p=u[1],f=Object(a.useState)(""),g=Object(h.a)(f,2),x=g[0],v=g[1],N=Object(a.useState)({songGenre:"",songArtist:"",songName:""}),I=Object(h.a)(N,2),k=I[0],y=I[1],A=Object(a.useState)([]),T=Object(h.a)(A,2),C=T[0],E=T[1],_=function(e){return y((function(t){return Object(b.a)(Object(b.a)({},t),{},Object(d.a)({},e.target.name,e.target.value))}))};function G(){return R.apply(this,arguments)}function R(){return(R=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/song/getFiltred?name=".concat(x,"&artist=&username=&genres=&offset=",0,"&limit=",5)).then((function(e){return e.json()}));case 2:if(0!==(t=e.sent).length){e.next=5;break}return e.abrupt("return",p("\u041d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043f\u0435\u0441\u043d\u0438 \u043d\u0435 \u0431\u044b\u043b\u043e \u043d\u0430\u0439\u0434\u0435\u043d\u043e"));case 5:p(t.reduce((function(e,t){return e.push(Object(S.jsxs)("div",{className:"song",children:[Object(S.jsx)("span",{className:"song-field song-title",children:t.name}),Object(S.jsxs)("span",{className:"song-field song-genres",children:["\u0416\u0430\u043d\u0440\u044b: ",t.genres]}),Object(S.jsx)("button",{className:"admin-userRemove",onClick:function(){return L(t.songId)},children:"X"})]})),e}),[]));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return F.apply(this,arguments)}function F(){return(F=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/admin/deleteUser?username=".concat(t));case 2:return e.sent,e.next=5,H();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/admin/deleteSong?songId=".concat(t));case 2:return e.next=4,G();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/admin/giveAdminRoot?username=".concat(i));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(m.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/song/add?name=".concat(k.songName,"&artist=").concat(k.songArtist,"&genres=").concat(k.songGenre));case 2:y({songName:"",songArtist:"",songGenre:""});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=Object(m.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(t),n=t.target.value,e.t0=E,e.next=5,fetch("http://localhost:8080/genre/help?text=".concat(n,"&limit=",10)).then((function(e){return e.json()}));case 5:e.t1=e.sent.genres,(0,e.t0)(e.t1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return z.apply(this,arguments)}function z(){return z=Object(m.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8080/admin/getAllUsers?offset=0&limit=20").then((function(e){return e.json()}));case 2:t=e.sent,s(t.reduce((function(e,t){return e.push(Object(S.jsxs)("div",{className:"user",children:[Object(S.jsx)("span",{className:"user-id"}),Object(S.jsxs)("span",{className:"user-login",children:["\u041b\u043e\u0433\u0438\u043d: ",t.username]}),Object(S.jsxs)("span",{className:"user-password",children:["\u041f\u0430\u0440\u043e\u043b\u044c: ",t.password]}),Object(S.jsxs)("span",{className:"user-password",children:["ID: ",t.userId]}),Object(S.jsx)("button",{className:"admin-userRemove",onClick:function(){return U(t.username)},children:"X"})]})),e}),[]));case 4:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}return Object(a.useEffect)((function(){H()}),[]),Object(S.jsxs)("main",{className:"admin",children:[Object(S.jsx)("h2",{className:"admin-header",children:"\u0410\u0434\u043c\u0438\u043d\u0441\u043a\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c"}),Object(S.jsxs)("div",{className:"admin-movies",children:[Object(S.jsx)("h2",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0435\u0441\u043d\u044f\u043c\u0438"}),Object(S.jsx)("h3",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0441\u043d\u044e"}),Object(S.jsxs)("div",{className:"admin-searchFilter main-searchFilter",children:[Object(S.jsx)("span",{className:"main-name",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0435\u0441\u043d\u0438"}),Object(S.jsx)("input",{className:"main-search",name:"songName",value:k.songName,onChange:_})]}),Object(S.jsxs)("div",{className:"admin-searchFilter main-searchFilter",children:[Object(S.jsx)("span",{className:"main-name",children:"\u0418\u043c\u044f \u0430\u0432\u0442\u043e\u0440\u0430"}),Object(S.jsx)("input",{className:"main-search",name:"songArtist",value:k.songArtist,onChange:_})]}),Object(S.jsxs)("div",{className:"admin-searchFilter main-searchFilter",children:[Object(S.jsx)("span",{className:"main-name",children:"\u0416\u0430\u043d\u0440"}),Object(S.jsx)("input",{className:"main-search",name:"songGenre",onBlur:function(){setTimeout((function(){E([])}),100)},value:k.songGenre,onChange:function(e){return B.apply(this,arguments)}}),C.length?Object(S.jsx)("div",{className:"main-suggestedWords",children:C.map((function(e,t,n){return Object(S.jsxs)("div",{onClick:function(){E([]),y((function(t){return Object(b.a)(Object(b.a)({},t),{},{songGenre:e})}))},className:"main-suggestedItem",children:[Object(S.jsx)("span",{className:"main-suggestedName",children:e}),t!==n.length-1?Object(S.jsx)("hr",{className:"main-suggestedLine"}):null]},w())}))}):null,Object(S.jsx)("button",{onClick:function(){return P.apply(this,arguments)},className:"admin-addMovieButton admin-addSongButton",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0441\u043d\u044e"})]}),Object(S.jsxs)("div",{className:"admin-addMovie",children:[Object(S.jsx)("h3",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0435\u0441\u043d\u044e"}),Object(S.jsx)("span",{className:"admin-fieldName",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(S.jsx)("input",{className:"admin-movieInput",value:x,onChange:function(e){return v(e.target.value)}}),Object(S.jsx)("button",{onClick:G,className:"admin-addMovieButton",children:"\u0418\u0441\u043a\u0430\u0442\u044c"})]}),j?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h2",{children:"\u041f\u0435\u0441\u043d\u0438:"}),Object(S.jsx)("div",{children:j})]}):null]}),Object(S.jsxs)("div",{className:"admin-users",children:[Object(S.jsx)("h2",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438"}),Object(S.jsx)("span",{className:"admin-promoteUser",children:"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u043e\u043c (by ID):"}),Object(S.jsxs)("div",{className:"admin-userPromote",children:[Object(S.jsx)("input",{value:i,onChange:function(e){return o(e.target.value)},className:"admin-movieInput"}),Object(S.jsx)("button",{onClick:function(){return D.apply(this,arguments)},className:"admin-promoteUserButton",children:"\u0412\u044b\u0434\u0430\u0442\u044c \u043f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"})]}),Object(S.jsx)("h3",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438:"}),n]})]})}),G=_;var R=function(){var e=Object(l.b)(),t=j("isAuthorized"),n=j("isLoaderNecessary"),s=Object(a.useMemo)((function(){return Object(S.jsx)(i.a,{path:"/",element:t?Object(S.jsx)(I,{}):Object(S.jsx)(A,{})})}),[t]),c=localStorage.getItem("isAdmin");return Object(a.useEffect)((function(){e({type:f.CHECK_AUTHORIZATION_STATUS})}),[]),Object(S.jsx)(o.a,{children:n?Object(S.jsx)(C,{color:"primary"}):Object(S.jsxs)(i.c,{children:[Object(S.jsx)(i.a,{path:"/profile",element:t?Object(S.jsx)(E,{}):Object(S.jsx)(A,{})}),Object(S.jsx)(i.a,{path:"/admin",element:t&&c?Object(S.jsx)(G,{}):Object(S.jsx)(I,{})}),s]})})},U=n(30),F=n(19),L={isAuthorized:!1,signInErrorMsg:"",isLoaderNecessary:!1},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.SET_AUTHORIZED:return Object(b.a)(Object(b.a)({},e),{},{isAuthorized:t.payload});case f.SET_LOADER:return Object(b.a)(Object(b.a)({},e),{},{isLoaderNecessary:t.payload});case f.SIGNOUT:return Object(b.a)(Object(b.a)({},e),{},{isAuthorized:!1});case f.SET_SIGNIN_ERROR_MSG:return Object(b.a)(Object(b.a)({},e),{},{signInErrorMsg:t.payload});default:return e}},D=n(13),P=n(29),B={backendProtocol:"http",backendAddress:"localhost:8080"},H=function e(){var t=this;Object(P.a)(this,e),this.signIn=function(){var e=Object(m.a)(O.a.mark((function e(n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.backendProtocol,"://").concat(t.backendAddress,"/user/aut?username=").concat(n.login,"&password=").concat(n.password)).then((function(e){return e.json()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.signUp=function(){var e=Object(m.a)(O.a.mark((function e(n){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t.backendProtocol,"://").concat(t.backendAddress,"/user/reg?username=").concat(n.login,"&password=").concat(n.password)).then((function(e){return e.json()}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.backendProtocol=B.backendProtocol,this.backendAddress=B.backendAddress},z=O.a.mark(W),Z=O.a.mark(q),K=O.a.mark(V),X=O.a.mark(Q),J=new H;function W(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(D.a)(J.signIn,e.payload);case 3:if("bigBlackCock"!==(t=n.sent).message){n.next=7;break}return n.next=7,Object(D.b)(x("\u0412\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"));case 7:if(localStorage.setItem("isAdmin","false"!==t.isAdmin?"true":""),"success"!==(null===t||void 0===t?void 0:t.message)){n.next=15;break}return localStorage.setItem("login",e.payload.login),localStorage.setItem("password",e.payload.password),n.next=13,Object(D.b)(g(!0));case 13:return n.next=15,Object(D.b)(x(""));case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.error("An error thrown while dispatching signing, result: ",n.t0.message);case 20:case"end":return n.stop()}}),z,null,[[0,17]])}function q(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(D.a)(J.signUp,e.payload);case 3:if("bigBlackCock"!==(t=n.sent).message){n.next=7;break}return n.next=7,Object(D.b)(x("\u0422\u0430\u043a\u043e\u0439 \u043b\u043e\u0433\u0438\u043d \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"));case 7:if(localStorage.setItem("isAdmin",""),"success"!==(null===t||void 0===t?void 0:t.message)){n.next=15;break}return localStorage.setItem("login",e.payload.login),localStorage.setItem("password",e.payload.password),n.next=13,Object(D.b)(g(!0));case 13:return n.next=15,Object(D.b)(x(""));case 15:n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.error("An error thrown while dispatching signing, result: ",n.t0.message);case 20:case"end":return n.stop()}}),Z,null,[[0,17]])}function V(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(D.b)(v(!0));case 2:if(!localStorage.getItem("login")||!localStorage.getItem("password")){t.next=17;break}return t.next=5,Object(D.a)(J.signIn,{login:localStorage.getItem("login"),password:localStorage.getItem("password")});case 5:if("success"!==(null===(e=t.sent)||void 0===e?void 0:e.message)){t.next=13;break}return t.next=9,Object(D.b)(g(!0));case 9:return t.next=11,Object(D.b)(x(""));case 11:t.next=15;break;case 13:return t.next=15,Object(D.b)(g(!1));case 15:t.next=19;break;case 17:return t.next=19,Object(D.b)(g(!1));case 19:return t.next=21,Object(D.b)(v(!1));case 21:case"end":return t.stop()}}),K)}function Q(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.c)(f.CHECK_AUTHORIZATION_STATUS,V);case 2:return e.next=4,Object(D.c)(f.SIGNIN,W);case 4:return e.next=6,Object(D.c)(f.SIGNUP,q);case 6:case"end":return e.stop()}}),X)}var Y=Q,$=O.a.mark(ee);function ee(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:case"end":return e.stop()}}),$)}var te=ee;console.log(n(79).config());var ne=Object(U.a)(),ae=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||F.b,Object(F.a)(ne)),se=Object(F.c)(M,ae);ne.run(te),r.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(l.a,{store:se,children:Object(S.jsx)(R,{})})}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.ab9da898.chunk.js.map